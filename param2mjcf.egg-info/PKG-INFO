Metadata-Version: 2.1
Name: param2mjcf
Version: 0.1.0
Summary: A tool to convert parametric models (JSON) to MJCF (XML) for MuJoCo physics simulation.
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE

# Parametric Model to MJCF Converter

A Python tool to convert parametric model definitions (JSON format) into MuJoCo MJCF (XML) simulation files. This project parses component hierarchies, converts meshes, and builds the kinematic tree for physics simulation.

## Features

- **JSON Parsing**: Extracts model instances and kinematic relations from Editor3D JSON.
- **Topology Building**: Automatically constructs the kinematic tree (parent, child, joints) from flat auxiliary data.
- **Mesh Processing**: Converts mesh data to Wavefront OBJ format and registers them in the MJCF.
- **MJCF Generation**: Generates a valid `mujoco.MjSpec` and saves it as an XML file.

## Installation

Requires Python 3.8+.

```bash
# Clone the repository
git clone <repository_url>
cd paramModel2MJCF

# Install dependencies
pip install -e .
```

## Usage

### Command Line Interface

The package provides a CLI script to convert files directly.

```bash
# Basic usage
python scripts/convert.py input.json

# Specify output file and asset directory
python scripts/convert.py input.json --output my_robot.xml --assets ./my_assets

# Detailed output (shows topology tree)
python scripts/convert.py input.json -v
```

### Python API

You can also use the package in your own scripts:

```python
from param2mjcf import parse_model_instances, normalize_auxiliaries, build_topology, MujocoBuilderWithMesh

# 1. Load Data
instances = parse_model_instances("input.json")
auxiliaries = normalize_auxiliaries("input.json")

# 2. Build Tree
forest = build_topology(auxiliaries)

# 3. Generate
builder = MujocoBuilderWithMesh(model_name="my_robot")
builder.build(forest, instances)
builder.save_xml("output.xml")
```

## Project Structure

- `param2mjcf/`: Main package source code.
    - `loader.py`: JSON parsing logic.
    - `topology.py`: Kinematic tree construction.
    - `generator.py`: MJCF XML generation.
    - `utils.py`: Math and helper functions.
- `scripts/`: Conversion scripts.
    - `convert.py`: CLI entry point.
- `archive/`: Old scripts (for reference).
